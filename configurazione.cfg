// Impostazioni
lockPref("general.autoScroll", true); // Scorrimento automatico
lockPref("browser.newtabpage.activity-stream.feeds.section.topstories", false); // Nascondere Pocket da newtab
lockPref("browser.newtabpage.activity-stream.improvesearch.handoffToAwesomebar", false); // Ripristinare searchbox
lockPref("browser.preferences.moreFromMozilla", false); // Nascondere altro da Mozilla
lockPref("privacy.webrtc.legacyGlobalIndicator", false); // Disabilitare icona microfono
lockPref("accessibility.force_disabled", 1); // Disabilitare accessibilitÃ 
lockPref("cookiebanners.service.mode", 2); // Rifiutare cookie facoltativi automaticamente
lockPref("cookiebanners.service.mode.privateBrowsing", 2);

// Avvisi e altri elemnti fastidiosi
lockPref("browser.download.panel.shown", true);
lockPref("browser.eme.ui.firstContentShown", true);
lockPref("browser.engagement.ctrlTab.has-used", true);
lockPref("browser.engagement.downloads-button.has-used", true);
lockPref("browser.engagement.fxa-toolbar-menu-button.has-used", true);
lockPref("browser.engagement.home-button.has-used", true);
lockPref("browser.engagement.library-button.has-used", true);
lockPref("browser.engagement.sidebar-button.has-used", true);
lockPref("browser.startup.couldRestoreSession.count", -1);
lockPref("full-screen-api.warning.delay", -1);
lockPref("full-screen-api.warning.timeout", 0);
lockPref("media.videocontrols.picture-in-picture.video-toggle.has-used", true);
lockPref("trailhead.firstrun.didSeeAboutWelcome", true);

/* 0000: disable about:config warning ***/
lockPref("browser.aboutConfig.showWarning", false);

/*** [SECTION 0100]: STARTUP ***/
/* 0105: disable sponsored content on Firefox Home (Activity Stream) ***/
lockPref("browser.newtabpage.activity-stream.showSponsored", false); // [FF58+] Pocket > Sponsored Stories
lockPref("browser.newtabpage.activity-stream.showSponsoredTopSites", false); // [FF83+] Sponsored shortcuts
/* 0106: clear default topsites ***/
lockPref("browser.newtabpage.activity-stream.default.sites", "");

/*** [SECTION 0200]: GEOLOCATION / LANGUAGE / LOCALE ***/
/* 0201: use Mozilla geolocation service instead of Google if permission is granted [FF74+] ***/
lockPref("geo.provider.network.url", "https://location.services.mozilla.com/v1/geolocate?key=%MOZILLA_API_KEY%");
/* 0202: disable using the OSs geolocation service ***/
lockPref("geo.provider.use_gpsd", false); // [LINUX]
lockPref("geo.provider.use_geoclue", false); // [FF102+] [LINUX]

/*** [SECTION 0320]: RECOMMENDATIONS ***/
/* 0320: disable recommendation pane in about:addons (uses Google Analytics) ***/
lockPref("extensions.getAddons.showPane", false); // [HIDDEN PREF]
/* 0321: disable recommendations in about:addons Extensions and Themes panes [FF68+] ***/
lockPref("extensions.htmlaboutaddons.recommendations.enabled", false);
/* 0322: disable personalized Extension Recommendations in about:addons and AMO [FF65+] ***/
lockPref("browser.discovery.enabled", false);
/* 0323: disable shopping experience [FF116+] ***/
lockPref("browser.shopping.experience2023.enabled", false); // [DEFAULT: false]

/*** [SECTION 0330]: TELEMETRY ***/
/* 0330: disable new data submission [FF41+] ***/
lockPref("datareporting.policy.dataSubmissionEnabled", false);
/* 0331: disable Health Reports ***/
lockPref("datareporting.healthreport.uploadEnabled", false);
/* 0332: disable telemetry ***/
lockPref("toolkit.telemetry.unified", false);
lockPref("toolkit.telemetry.enabled", false); // see [NOTE]
lockPref("toolkit.telemetry.server", "data:,");
lockPref("toolkit.telemetry.archive.enabled", false);
lockPref("toolkit.telemetry.newProfilePing.enabled", false); // [FF55+]
lockPref("toolkit.telemetry.shutdownPingSender.enabled", false); // [FF55+]
lockPref("toolkit.telemetry.updatePing.enabled", false); // [FF56+]
lockPref("toolkit.telemetry.bhrPing.enabled", false); // [FF57+] Background Hang Reporter
lockPref("toolkit.telemetry.firstShutdownPing.enabled", false); // [FF57+]
/* 0333: disable Telemetry Coverage ***/
lockPref("toolkit.telemetry.coverage.opt-out", true); // [HIDDEN PREF]
lockPref("toolkit.coverage.opt-out", true); // [FF64+] [HIDDEN PREF]
lockPref("toolkit.coverage.endpoint.base", "");
/* 0334: disable PingCentre telemetry (used in several System Add-ons) [FF57+] ***/
lockPref("browser.ping-centre.telemetry", false);
/* 0335: disable Firefox Home (Activity Stream) telemetry ***/
lockPref("browser.newtabpage.activity-stream.feeds.telemetry", false);
lockPref("browser.newtabpage.activity-stream.telemetry", false);

/** [SECTION 0340]: STUDIES ***/
/* 0340: disable Studies ***/
lockPref("app.shield.optoutstudies.enabled", false);
/* 0341: disable Normandy/Shield [FF60+] ***/
lockPref("app.normandy.enabled", false);
lockPref("app.normandy.api_url", "");

/** [SECTION 0350]: CRASH REPORTS ***/
/* 0350: disable Crash Reports ***/
lockPref("breakpad.reportURL", "");
lockPref("browser.tabs.crashReporting.sendReport", false); // [FF44+]
lockPref("browser.crashReports.unsubmittedCheck.enabled", false); // [FF51+] [DEFAULT: false]
/* 0351: enforce no submission of backlogged Crash Reports [FF58+]  ***/
lockPref("browser.crashReports.unsubmittedCheck.autoSubmit2", false); // [DEFAULT: false]

/** [SECTION 0360]: OTHER ***/
/* 0360: disable Captive Portal detection ***/
lockPref("captivedetect.canonicalURL", "");
lockPref("network.captive-portal-service.enabled", false); // [FF52+]
/* 0361: disable Network Connectivity checks [FF65+] ***/
lockPref("network.connectivity-service.enabled", false);

/*** [SECTION 0600]: BLOCK IMPLICIT OUTBOUND [not explicitly asked for - e.g. clicked on] ***/
/* 0601: disable link prefetching ***/
lockPref("network.prefetch-next", false);
/* 0602: disable DNS prefetching ***/
lockPref("network.dns.disablePrefetch", true);
lockPref("network.dns.disablePrefetchFromHTTPS", true); // [DEFAULT: true]
/* 0603: disable predictor / prefetching ***/
lockPref("network.predictor.enabled", false);
lockPref("network.predictor.enable-prefetch", false); // [FF48+] [DEFAULT: false]
/* 0604: disable link-mouseover opening connection to linked server ***/
lockPref("network.http.speculative-parallel-limit", 0);
/* 0605: disable mousedown speculative connections on bookmarks and history [FF98+] ***/
lockPref("browser.places.speculativeConnect.enabled", false);
/* 0610: enforce no "Hyperlink Auditing" (click tracking) ***/
lockPref("browser.send_pings", false); // [DEFAULT: false]

/*** [SECTION 0700]: DNS / DoH / PROXY / SOCKS ***/
/* 0702: set the proxy server to do any DNS lookups when using SOCKS ***/
lockPref("network.proxy.socks_remote_dns", true);
/* 0703: disable using UNC (Uniform Naming Convention) paths [FF61+] ***/
lockPref("network.file.disable_unc_paths", true); // [HIDDEN PREF]
/* 0704: disable GIO as a potential proxy bypass vector ***/
lockPref("network.gio.supported-protocols", ""); // [HIDDEN PREF] [DEFAULT: "" FF118+]
/* 0711: disable skipping DoH when parental controls are enabled [FF70+] ***/
lockPref("network.dns.skipTRR-when-parental-control-enabled", false);

/*** [SECTION 0800]: LOCATION BAR / SEARCH BAR / SUGGESTIONS / HISTORY / FORMS ***/
/* 0801: disable location bar making speculative connections [FF56+] ***/
lockPref("browser.urlbar.speculativeConnect.enabled", false);
/* 0802: disable location bar contextual suggestions [FF92+] ***/
lockPref("browser.urlbar.suggest.quicksuggest.nonsponsored", false); // [FF95+]
lockPref("browser.urlbar.suggest.quicksuggest.sponsored", false);
/* 0805: disable urlbar trending search suggestions [FF118+] ***/
lockPref("browser.urlbar.trending.featureGate", false);
/* 0806: disable urlbar suggestions ***/
lockPref("browser.urlbar.addons.featureGate", false); // [FF115+]
lockPref("browser.urlbar.mdn.featureGate", false); // [FF117+] [HIDDEN PREF]
lockPref("browser.urlbar.pocket.featureGate", false); // [FF116+] [DEFAULT: false]
lockPref("browser.urlbar.weather.featureGate", false); // [FF108+] [DEFAULT: false]
/* 0807: disable urlbar clipboard suggestions [FF118+] ***/
lockPref("browser.urlbar.clipboard.featureGate", false); // [DEFAULT: false]
/* 0810: disable search and form history ***/
lockPref("browser.formfill.enable", false);

/*** [SECTION 0900]: PASSWORDS ***/
/* 0903: disable auto-filling username & password form fields ***/
lockPref("signon.autofillForms", false);
/* 0904: disable formless login capture for Password Manager [FF51+] ***/
lockPref("signon.formlessCapture.enabled", false);
/* 0905: limit (or disable) HTTP authentication credentials dialogs triggered by sub-resources [FF41+] ***/
lockPref("network.auth.subresource-http-auth-allow", 1);

/*** [SECTION 1000]: DISK AVOIDANCE ***/
/* 1002: disable media cache from writing to disk in Private Browsing ***/
lockPref("browser.privatebrowsing.forceMediaMemoryCache", true); // [FF75+]
lockPref("media.memory_cache_max_size", 65536);
/* 1003: disable storing extra session data [SETUP-CHROME] ***/
lockPref("browser.sessionstore.privacy_level", 2);

/** [SECTION 1200]: SSL (Secure Sockets Layer) / TLS (Transport Layer Security) ***/
/* 1201: require safe negotiation ***/
lockPref("security.ssl.require_safe_negotiation", true);
/* 1206: disable TLS1.3 0-RTT (round-trip time) [FF51+] ***/
lockPref("security.tls.enable_0rtt_data", false);

/** [SECTION 1210]: OCSP (Online Certificate Status Protocol) ***/
/* 1211: enforce OCSP fetching to confirm current validity of certificates ***/
lockPref("security.OCSP.enabled", 1); // [DEFAULT: 1]
/* 1212: set OCSP fetch failures (non-stapled, see 1211) to hard-fail ***/
lockPref("security.OCSP.require", true);

/** [SECTION 1220]: CERTS / HPKP (HTTP Public Key Pinning) ***/
/* 1223: enable strict PKP (Public Key Pinning) ***/
lockPref("security.cert_pinning.enforcement_level", 2);
/* 1224: enable CRLite [FF73+] ***/
lockPref("security.remote_settings.crlite_filters.enabled", true);
lockPref("security.pki.crlite_mode", 2);

/** [SECTION 1240]: MIXED CONTENT ***/
/* 1244: enable HTTPS-Only mode in all windows [FF76+] ***/
lockPref("dom.security.https_only_mode", true); // [FF76+]
/* 1246: disable HTTP background requests [FF82+] ***/
lockPref("dom.security.https_only_mode_send_http_background_request", false);

/** [SECTION 1270]: UI (User Interface) ***/
/* 1270: display warning on the padlock for "broken security" (if 1201 is false) ***/
lockPref("security.ssl.treat_unsafe_negotiation_as_broken", true);
/* 1272: display advanced information on Insecure Connection warning pages ***/
lockPref("browser.xul.error_pages.expert_bad_cert", true);

/*** [SECTION 1600]: REFERERS ***/
/* 1602: control the amount of cross-origin information to send [FF52+] ***/
lockPref("network.http.referer.XOriginTrimmingPolicy", 2);

/*** [SECTION 1700]: CONTAINERS ***/
/* 1701: enable Container Tabs and its UI setting [FF50+] ***/
lockPref("privacy.userContext.enabled", true);
lockPref("privacy.userContext.ui.enabled", true);

/*** [SECTION 2000]: PLUGINS / MEDIA / WEBRTC ***/
/* 2002: force WebRTC inside the proxy [FF70+] ***/
lockPref("media.peerconnection.ice.proxy_only_if_behind_proxy", true);
/* 2003: force a single network interface for ICE candidates generation [FF42+] ***/
lockPref("media.peerconnection.ice.default_address_only", true);

/*** [SECTION 2400]: DOM (DOCUMENT OBJECT MODEL) ***/
/* 2402: prevent scripts from moving and resizing open windows ***/
lockPref("dom.disable_window_move_resize", true);

/*** [SECTION 2600]: MISCELLANEOUS ***/
/* 2603: remove temp files opened from non-PB windows with an external application ***/
lockPref("browser.download.start_downloads_in_tmp_dir", true); // [FF102+]
lockPref("browser.helperApps.deleteTempFileOnExit", true);
/* 2606: disable UITour backend so there is no chance that a remote page can use it ***/
lockPref("browser.uitour.enabled", false);
/* 2608: reset remote debugging to disabled ***/
lockPref("devtools.debugger.remote-enabled", false); // [DEFAULT: false]
/* 2616: remove special permissions for certain mozilla domains [FF35+] ***/
lockPref("permissions.manager.defaultsUrl", "");
/* 2617: remove webchannel whitelist ***/
lockPref("webchannel.allowObject.urlWhitelist", "");
/* 2619: use Punycode in Internationalized Domain Names to eliminate possible spoofing ***/
lockPref("network.IDN_show_punycode", true);
/* 2620: enforce PDFJS, disable PDFJS scripting ***/
lockPref("pdfjs.disabled", false); // [DEFAULT: false]
lockPref("pdfjs.enableScripting", false); // [FF86+]
/* 2624: disable middle click on new tab button opening URLs or searches using clipboard [FF115+] */
lockPref("browser.tabs.searchclipboardfor.middleclick", false); // [DEFAULT: false NON-LINUX]

/** [SECTION 2650]: DOWNLOADS ***/
/* 2651: enable user interaction for security by always asking where to download ***/
lockPref("browser.download.useDownloadDir", false);
/* 2652: disable downloads panel opening on every download [FF96+] ***/
lockPref("browser.download.alwaysOpenPanel", false);
/* 2653: disable adding downloads to the system s "recent documents" list ***/
lockPref("browser.download.manager.addToRecentDocs", false);
/* 2654: enable user interaction for security by always asking how to handle new mimetypes [FF101+] ***/
lockPref("browser.download.always_ask_before_handling_new_types", true);

/** [SECTION 2660]: EXTENSIONS ***/
/* 2660: lock down allowed extension directories ***/
lockPref("extensions.enabledScopes", 5); // [HIDDEN PREF]
lockPref("extensions.autoDisableScopes", 15); // [DEFAULT: 15]
/* 2661: disable bypassing 3rd party extension install prompts [FF82+] ***/
lockPref("extensions.postDownloadThirdPartyPrompt", false);

/*** [SECTION 2700]: ETP (ENHANCED TRACKING PROTECTION) ***/
/* 2701: enable ETP Strict Mode [FF86+]s ***/
lockPref("browser.contentblocking.category", "strict");

/*** [SECTION 2800]: SHUTDOWN & SANITIZING ***/
/* 2810: enable Firefox to clear items on shutdown ***/
lockPref("privacy.sanitize.sanitizeOnShutdown", false);

/*** [SECTION 5000]: OPTIONAL ***/
/* 5016: discourage downloading to desktop
lockPref("browser.download.folderList", 1);
/* 5019: disable page thumbnail collection ***/
lockPref("browser.pagethumbnails.capturing_disabled", true); // [HIDDEN PREF]
/* 5508: disable all DRM content (EME: Encryption Media Extension) ***/
lockPref("media.eme.enabled", true);
lockPref("browser.eme.ui.enabled", false);
/* 5509: disable IPv6 ***/
lockPref("network.dns.disableIPv6", true);

/*** [SECTION 7000]: DON T BOTHER ***/
/* 7002: set default permissions ***/
defaultPref("permissions.default.camera", 2);
defaultPref("permissions.default.desktop-notification", 2);
defaultPref("permissions.default.geo", 2);
defaultPref("permissions.default.microphone", 2);
defaultPref("permissions.default.shortcuts", 2);
defaultPref("permissions.default.xr", 2);

/*** [SECTION 9000]: NON-PROJECT RELATED ***/
/* 9001: disable welcome notices ***/
lockPref("browser.startup.homepage_override.mstone", "ignore");
/* 9002: disable General>Browsing>Recommend extensions/features as you browse [FF67+] ***/
lockPref("browser.newtabpage.activity-stream.asrouter.userprefs.cfr.addons", false);
lockPref("browser.newtabpage.activity-stream.asrouter.userprefs.cfr.features", false);
/* 9003: disable What s New toolbar icon [FF69+] ***/
lockPref("browser.messaging-system.whatsNewPanel.enabled", false);
